# coding: utf-8

import subprocess

def run_command(command):
    return subprocess.check_output(command)

def run_command_with_capture_output(command):
    return subprocess.Popen(command,
                            stdout=subprocess.PIPE,
                            stderr=subprocess.PIPE,
                           ).communicate()

def sn_show():
    try:
        return run_command("dmidecode -s system-serial-number".split())
    except:
        return ''

def ip_link_show():
    return run_command("ip -br link show".split())

def ip_address_show(device=''):
    return run_command("ip -br -4 address show {}".format(device).split())

def ip_route_show():
    return run_command("ip route show".split())

def if_command(cmd, name):
    try:
        subprocess.check_call("{} {}".format(cmd, name).split(),
                              stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    except subprocess.CalledProcessError:
        return False

    return True

def ifup(name):
    return if_command("ifup", name)

def ifdown(name):
    return if_command("ifdown", name)
